<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>What Input?</title>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css">
        <link rel="icon" href="assets/Apple-Spring.png">
        <link rel="stylesheet" href="node_modules/foundation-icons/foundation-icons.css">
        <link rel="stylesheet" href="css/app.css">
    </head>
    <body>
        <!-- Nav bar -->
        <!-- Responsive menu bar icon -->
        <div class="title-bar" data-responsive-toggle="menu" data-hide-for="medium">
            <button class="menu-icon" type="button" data-toggle></button>
            <div class="title-bar-title">Menu</div>
        </div>
        
        <!-- Menu bar content -->
        <nav class="top-bar" id="menu" data-animate="hinge-in-from-top spin-out">
            <div class="top-bar-left">
    <ul class="vertical menu dropdown medium-horizontal" data-dropdown-menu>
        <li class="menu-text">Le Website</li>
        <li><a href="/" class="active">Home</a></li>
        <li><a href="/about">About</a></li>
    </ul>
</div>
<div class="top-bar-right">
    <ul class="menu">
        <li>Placeholder</li>
    </ul>
</div>
        </nav>
        
        <!-- Content and Footer -->
        <div class="grid-x grid-padding-x">
            <div class="large-12 cell">
                <!-- Content -->
                <h1 id="what-input">What Input?</h1>

<p><strong>A global utility for tracking the current input method (mouse, keyboard or touch).</strong></p>

<h2 id="what-input-is-now-v5"><em>What Input</em> is now v5</h2>

<p>Now with more information and less opinion!</p>

<p><em>What Input</em> adds data attributes to the <code class="language-plaintext highlighter-rouge">window</code> based on the type of input being used. It also exposes a simple API that can be used for scripting interactions.</p>

<h2 id="how-it-works">How it works</h2>

<p><em>What Input</em> uses event bubbling on the <code class="language-plaintext highlighter-rouge">window</code> to watch for mouse, keyboard and touch events (via <code class="language-plaintext highlighter-rouge">mousedown</code>, <code class="language-plaintext highlighter-rouge">keydown</code> and <code class="language-plaintext highlighter-rouge">touchstart</code>). It then sets or updates a <code class="language-plaintext highlighter-rouge">data-whatinput</code> attribute.</p>

<p>Pointer Events are supported but note that <code class="language-plaintext highlighter-rouge">pen</code> inputs are remapped to <code class="language-plaintext highlighter-rouge">touch</code>.</p>

<p><em>What Input</em> also exposes a tiny API that allows the developer to ask for the current input, set custom ignore keys, and set and remove custom callback functions.</p>

<p><em>What Input does not make assumptions about the input environment before the page is interacted with.</em> However, the <code class="language-plaintext highlighter-rouge">mousemove</code> and <code class="language-plaintext highlighter-rouge">pointermove</code> events are used to set a <code class="language-plaintext highlighter-rouge">data-whatintent="mouse"</code> attribute to indicate that a mouse is being used <em>indirectly</em>.</p>

<h2 id="demo">Demo</h2>

<p>Check out the demo to see <em>What Input</em> in action.</p>

<p>https://ten1seven.github.io/what-input</p>

<h3 id="interacting-with-forms">Interacting with Forms</h3>

<p>Since interacting with a form <em>always</em> requires use of the keyboard, <em>What Input</em> uses the <code class="language-plaintext highlighter-rouge">data-whatintent</code> attribute to display a “buffered” version of input events while form <code class="language-plaintext highlighter-rouge">&lt;input&gt;</code>s, <code class="language-plaintext highlighter-rouge">&lt;select&gt;</code>s, and <code class="language-plaintext highlighter-rouge">&lt;textarea&gt;</code>s are being interacted with (i.e. mouse user’s <code class="language-plaintext highlighter-rouge">data-whatintent</code> will be preserved as <code class="language-plaintext highlighter-rouge">mouse</code> while typing).</p>

<h2 id="installing">Installing</h2>

<p>Download the file directly.</p>

<p>Install via Yarn:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add what-input
</code></pre></div></div>

<p>Install via NPM:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>what-input
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>Include the script directly in your project.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"path/to/what-input.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<p>Or require with a script loader.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">what-input</span><span class="dl">'</span>

<span class="c1">// or</span>

<span class="k">import</span> <span class="nx">whatInput</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">what-input</span><span class="dl">'</span>

<span class="c1">// or</span>

<span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">what-input</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// or</span>

<span class="kd">var</span> <span class="nx">whatInput</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">what-input</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// or</span>

<span class="nx">requirejs</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
  <span class="na">paths</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">whatInput</span><span class="p">:</span> <span class="dl">'</span><span class="s1">path/to/what-input</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">})</span>

<span class="nx">require</span><span class="p">([</span><span class="dl">'</span><span class="s1">whatInput</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{})</span>
</code></pre></div></div>

<p><em>What Input</em> will start doing its thing while you do yours.</p>

<h3 id="default-behavior">Default Behavior</h3>

<h4 id="persisting-inputintent-across-pages">Persisting Input/Intent Across Pages</h4>

<p>By default, <em>What Input</em> uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage">session storage</a> to persist the input and intent values across pages. The benefit is that once a visitor has interacted with the page, subsequent pages won’t have to wait for interactions to know the input method.</p>

<p>This behavior can be disabled by adding a <code class="language-plaintext highlighter-rouge">data-whatpersist="false"</code> attribute on either the <code class="language-plaintext highlighter-rouge">&lt;html&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code>.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html</span> <span class="na">dir=</span><span class="s">"ltr"</span> <span class="na">lang=</span><span class="s">"en"</span> <span class="na">data-whatpersist=</span><span class="s">"false"</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>or</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body</span> <span class="na">data-whatpersist=</span><span class="s">"false"</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<p>Session storage can be cleared at any time with:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">whatInput</span><span class="p">.</span><span class="nx">clearStorage</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="basic-styling">Basic Styling</h3>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/*
 * only suppress the focus ring once what-input has successfully started
 */</span>

<span class="c">/* suppress focus ring on form controls for mouse users */</span>
<span class="o">[</span><span class="nt">data-whatintent</span><span class="o">=</span><span class="s2">'mouse'</span><span class="o">]</span> <span class="o">*</span><span class="nd">:focus</span> <span class="p">{</span>
  <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Note:</strong> If you remove outlines with <code class="language-plaintext highlighter-rouge">outline: none;</code>, be sure to provide clear visual <code class="language-plaintext highlighter-rouge">:focus</code> styles so the user can see which element they are on at any time for greater accessibility. Visit <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/navigation-mechanisms-focus-visible.html">W3C’s WCAG 2.0 2.4.7 Guideline</a> to learn more.</p>

<h3 id="scripting">Scripting</h3>

<h4 id="current-input">Current Input</h4>

<p>Ask <em>What Input</em> what the current input method is. This works best if asked after the events <em>What Input</em> is bound to (<code class="language-plaintext highlighter-rouge">mousedown</code>, <code class="language-plaintext highlighter-rouge">keydown</code> and <code class="language-plaintext highlighter-rouge">touchstart</code>).</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">whatInput</span><span class="p">.</span><span class="nx">ask</span><span class="p">()</span> <span class="c1">// returns `mouse`, `keyboard` or `touch`</span>

<span class="nx">myButton</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">whatInput</span><span class="p">.</span><span class="nx">ask</span><span class="p">()</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">mouse</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do mousy things</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">whatInput</span><span class="p">.</span><span class="nx">ask</span><span class="p">()</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">keyboard</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do keyboard things</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>If it’s necessary to know if <code class="language-plaintext highlighter-rouge">mousemove</code> is being used, use the <code class="language-plaintext highlighter-rouge">'intent'</code> option. For example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
 * nothing has happened but the mouse has moved
 */</span>

<span class="nx">whatInput</span><span class="p">.</span><span class="nx">ask</span><span class="p">()</span> <span class="c1">// returns `initial` because the page has not been directly interacted with</span>
<span class="nx">whatInput</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="dl">'</span><span class="s1">intent</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// returns `mouse` because mouse movement was detected</span>

<span class="cm">/*
 * the keyboard has been used, then the mouse was moved
 */</span>

<span class="nx">whatInput</span><span class="p">.</span><span class="nx">ask</span><span class="p">()</span> <span class="c1">// returns `keyboard` because the keyboard was the last direct page interaction</span>
<span class="nx">whatInput</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="dl">'</span><span class="s1">intent</span><span class="dl">'</span><span class="p">)</span> <span class="c1">// returns `mouse` because mouse movement was the most recent action detected</span>
</code></pre></div></div>

<h3 id="current-element">Current Element</h3>

<p>Ask <em>What Input</em> the currently focused DOM element.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">whatInput</span><span class="p">.</span><span class="nx">element</span><span class="p">()</span> <span class="c1">// returns a string, like `input` or null</span>
</code></pre></div></div>

<h4 id="ignore-keys">Ignore Keys</h4>

<p>Set a custom array of <a href="http://keycode.info/">keycodes</a> that will be ignored (will not switch over to <code class="language-plaintext highlighter-rouge">keyboard</code>) when pressed. <em>A custom list will overwrite the default values.</em></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
 * default ignored keys:
 * 16, // shift
 * 17, // control
 * 18, // alt
 * 91, // Windows key / left Apple cmd
 * 93  // Windows menu / right Apple cmd
 */</span>

<span class="nx">whatInput</span><span class="p">.</span><span class="nx">ignoreKeys</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</code></pre></div></div>

<h4 id="specific-keys">Specific Keys</h4>

<p>Set a custom array of <a href="http://keycode.info/">keycodes</a> that will trigger the keyboard pressed intent (will not switch to <code class="language-plaintext highlighter-rouge">keyboard</code> unless these keys are pressed). <em>This overrides ignoreKeys.</em></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// only listen to tab keyboard press</span>
<span class="nx">whatInput</span><span class="p">.</span><span class="nx">specificKeys</span><span class="p">([</span><span class="mi">9</span><span class="p">])</span>
</code></pre></div></div>

<h4 id="custom-callbacks">Custom Callbacks</h4>

<p>Fire a function when the input or intent changes.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// create a function to be fired</span>
<span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// fire `myFunction` when the intent changes</span>
<span class="nx">whatInput</span><span class="p">.</span><span class="nx">registerOnChange</span><span class="p">(</span><span class="nx">myFunction</span><span class="p">,</span> <span class="dl">'</span><span class="s1">intent</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// fire `myFunction` when the input changes</span>
<span class="nx">whatInput</span><span class="p">.</span><span class="nx">registerOnChange</span><span class="p">(</span><span class="nx">myFunction</span><span class="p">,</span> <span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// remove custom event</span>
<span class="nx">whatInput</span><span class="p">.</span><span class="nx">unRegisterOnChange</span><span class="p">(</span><span class="nx">myFunction</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="compatibility">Compatibility</h2>

<p><em>What Input</em> works in all modern browsers.</p>

<h2 id="changelog">Changelog</h2>

<h3 id="v528---5210">v5.2.8 - 5.2.10</h3>

<ul>
  <li><strong>Added:</strong> TypeScript definitions via @greypants</li>
</ul>

<h3 id="v527">v5.2.7</h3>

<ul>
  <li><strong>Fixed:</strong> Moves sourcemap to sit next to JavaScript package.</li>
</ul>

<h3 id="v526">v5.2.6</h3>

<ul>
  <li><strong>Fixed:</strong> adds <code class="language-plaintext highlighter-rouge">DOMContentLoaded</code> event before looking for <code class="language-plaintext highlighter-rouge">data-whatpersist</code> attribute on body.</li>
</ul>

<h3 id="v525">v5.2.5</h3>

<ul>
  <li><strong>Fixed:</strong> Hotfix for shaky support of <code class="language-plaintext highlighter-rouge">dataset</code> in IE10.</li>
</ul>

<h3 id="v524">v5.2.4</h3>

<ul>
  <li><strong>Added:</strong> Ability to add <code class="language-plaintext highlighter-rouge">data-whatpersist="false"</code> attribute to the <code class="language-plaintext highlighter-rouge">&lt;html&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code> tag to disable usage of session storage to persist input/intent across pages.</li>
  <li><strong>Updated:</strong> Build tools and added linting.</li>
</ul>

<h3 id="v523">v5.2.3</h3>

<ul>
  <li><strong>Fixed:</strong> <code class="language-plaintext highlighter-rouge">activeElement</code> is null bug in IE is fixed (thanks @EasterPeanut).</li>
  <li><strong>Fixed:</strong> Mousewheel event detection works correctly again.</li>
</ul>

<h3 id="v521">v5.2.1</h3>

<ul>
  <li><strong>Fixed:</strong> iOS was occasionally reporting <code class="language-plaintext highlighter-rouge">mouse</code> because of event execution order.</li>
  <li><strong>Added:</strong> <code class="language-plaintext highlighter-rouge">touchend</code> to input map</li>
  <li><strong>Added:</strong> Allows buttons inside forms to be treated like other form inputs.</li>
  <li><strong>Added:</strong> iTouch intent indicator in demo page (it worked all along, you just couldn’t see it).</li>
</ul>

<h3 id="v514">v5.1.4</h3>

<ul>
  <li><strong>Fixed:</strong> Increase buffering time by 20ms to fix iOS reporting mousedown</li>
  <li><strong>Fixed:</strong> Adds <code class="language-plaintext highlighter-rouge">touchend</code> to input map</li>
</ul>

<h3 id="v513">v5.1.3</h3>

<ul>
  <li><strong>Added:</strong> Sourcemap for the minified version.</li>
</ul>

<h3 id="v512">v5.1.2</h3>

<ul>
  <li><strong>Added:</strong> <code class="language-plaintext highlighter-rouge">specificKeys</code> functionality to allow overriding of keyboard keys list. Fix via <a href="https://github.com/bk3">bk3</a>.</li>
</ul>

<h3 id="v511">v5.1.1</h3>

<ul>
  <li><strong>Fixed:</strong> Browsers with cookies turned off would throw an error with session storage. Fix via <a href="https://github.com/yuheiy">yuheiy</a>.</li>
</ul>

<h3 id="v510">v5.1.0</h3>

<ul>
  <li><strong>Added:</strong> Session variable stores last used input and intent so subsequent page loads don’t have to wait for interactions to set the correct input and intent state.</li>
  <li><strong>Removed:</strong> IE8 support.</li>
</ul>

<h3 id="v507">v5.0.7</h3>

<ul>
  <li><strong>Fixed:</strong> <code class="language-plaintext highlighter-rouge">unRegisterOnChange</code> failed to unregister items at index 0.</li>
</ul>

<h3 id="v505">v5.0.5</h3>

<ul>
  <li><strong>Fixed:</strong> Fail gracefully in non-DOM environments.</li>
</ul>

<h3 id="v503">v5.0.3</h3>

<ul>
  <li><strong>Fixed:</strong> Event buffer for touch was not working correctly.</li>
</ul>

<h3 id="changes-from-v4">Changes from v4</h3>

<ul>
  <li><strong>Added:</strong> A the ability to add and remove custom callback function when the input or intent changes with <code class="language-plaintext highlighter-rouge">whatInput.registerOnChange</code> and <code class="language-plaintext highlighter-rouge">whatInput.unRegisterOnChange</code>.</li>
  <li><strong>Added:</strong> A <code class="language-plaintext highlighter-rouge">data-whatelement</code> attribute exposes any currently focused DOM element (i.e. <code class="language-plaintext highlighter-rouge">data-whatelement="a"</code> or <code class="language-plaintext highlighter-rouge">data-whatelement="input"</code>).</li>
  <li><strong>Added:</strong> A <code class="language-plaintext highlighter-rouge">data-whatclasses</code> attribute exposes any currently focused element’s classes as a comma-separated list (i.e. <code class="language-plaintext highlighter-rouge">data-whatclasses="class1,class2"</code>).</li>
  <li><strong>Added:</strong> An API option to provide a custom array of keycodes that will be ignored.</li>
  <li><strong>Changed:</strong> Typing in form fields is no longer filtered out. The <code class="language-plaintext highlighter-rouge">data-whatinput</code> attribute immediately reflects the current input. The <code class="language-plaintext highlighter-rouge">data-whatintent</code> attribute now takes on the role of remembering mouse input prior to typing in or clicking on a form field.</li>
  <li><strong>Changed:</strong> If you use the Tab key to move from one input to another one - the <code class="language-plaintext highlighter-rouge">data-whatinput</code> attribute reflects the current input (switches to “keyboard”).</li>
  <li><strong>Removed:</strong> <code class="language-plaintext highlighter-rouge">whatInput.types()</code> API option.</li>
  <li><strong>Removed:</strong> Bower support.</li>
  <li><strong>Fixed:</strong> Using mouse modifier keys (<code class="language-plaintext highlighter-rouge">shift</code>, <code class="language-plaintext highlighter-rouge">control</code>, <code class="language-plaintext highlighter-rouge">alt</code>, <code class="language-plaintext highlighter-rouge">cmd</code>) no longer toggles back to keyboard.</li>
</ul>

<h2 id="acknowledgments">Acknowledgments</h2>

<p>Special thanks to <a href="http://viget.com/">Viget</a> for their encouragement and commitment to open source projects. Visit <a href="http://code.viget.com/">code.viget.com</a> to see more projects from <a href="http://viget.com">Viget</a>.</p>

<p>Thanks to <a href="https://github.com/mAAdhaTTah">mAAdhaTTah</a> for the initial conversion to Webpack. Thanks to <a href="https://github.com/greypants">greypants</a> for adding TypeScript definitions.</p>

<p><em>What Input</em> is written and maintained by <a href="https://github.com/ten1seven">@ten1seven</a>.</p>

<h2 id="license">License</h2>

<p><em>What Input</em> is freely available under the <a href="http://opensource.org/licenses/MIT">MIT License</a>.</p>

                
                <!-- Footer -->
                <hr>
<footer>
    <div class="float-left">
        <h4>Oh look, a foot!</h4>
    </div>

    <div class="float-right">
        <p style="display: inline;">Follow me! &nbsp; &nbsp; &nbsp; &nbsp;</p>
        <a href="https://github.com/racstyle/" target="_blank"><i class="fab fa-github icon-foot"></i></a>
        &nbsp;
        <a href="https://linkedin.com/in/rachel-estilo/" target="_blank"><i class="fab fa-linkedin icon-foot"></i></a>
    </div>
</footer>
            </div>
        </div>
        
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
        <script>window.jQuery || document.write('<script src="node_modules/jquery/dist/jquery.min.js"><\/script>')</script>
        <script src="node_modules/what-input/dist/what-input.min.js"></script>
        <script src="node_modules/foundation-sites/dist/js/foundation.min.js"></script>
        <script src="js/app-min.js"></script>
    </body>
</html>
